<svg viewBox="0 0 800 420" xmlns="http://www.w3.org/2000/svg"
     role="img" aria-labelledby="title desc">
  <title id="title">From Isolated Agents to Coordinated Villages</title>
  <desc id="desc">
    Two-panel comparison. Left: three isolated agents each maintaining their own
    markdown files, with a stressed human manually relaying context between them.
    Right: three agents connected through two shared primitives — Beads for memory
    and Agent Mail for messaging — self-organizing without a human bottleneck.
  </desc>

  <defs>
    <filter id="shadow" x="-10%" y="-10%" width="130%" height="130%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="2.5" result="blur"/>
      <feOffset in="blur" dx="1.5" dy="2" result="offsetBlur"/>
      <feFlood flood-color="#000" flood-opacity="0.15" result="color"/>
      <feComposite in="color" in2="offsetBlur" operator="in" result="shadow"/>
      <feMerge>
        <feMergeNode in="shadow"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <style>
      .title       { font: bold 17px sans-serif; fill: #222; text-anchor: middle; }
      .panel-title { font: bold 14px sans-serif; text-anchor: middle; }
      .label       { font: 12px sans-serif; text-anchor: middle;
                     dominant-baseline: central; fill: #555; }
      .label-bold  { font: bold 12px sans-serif; text-anchor: middle;
                     dominant-baseline: central; }
      .agent-label { font: bold 11px sans-serif; text-anchor: middle;
                     dominant-baseline: central; fill: #fff; }
      .annotation  { font: italic 11px sans-serif; text-anchor: middle;
                     fill: #555; }
      .caption     { font: italic 12px sans-serif; text-anchor: middle;
                     fill: #444; }
      .svc-label   { font: bold 12px sans-serif; text-anchor: middle;
                     dominant-baseline: central; fill: #fff; }
      .svc-sub     { font: 10px sans-serif; text-anchor: middle;
                     dominant-baseline: central; fill: rgba(255,255,255,0.85); }
      .file-label  { font: 9px monospace; fill: #888; text-anchor: middle; }
      .divider     { stroke: #ccc; stroke-width: 1; stroke-dasharray: 6,4; }
    </style>
  </defs>

  <!-- Background -->
  <rect width="800" height="420" fill="#FAFAFA" rx="4"/>

  <!-- Title -->
  <text x="400" y="30" class="title">From Isolated Agents to Coordinated Villages</text>

  <!-- Central divider -->
  <line x1="400" y1="48" x2="400" y2="385" class="divider"/>

  <!-- Arrow in the divider -->
  <g transform="translate(400, 200)">
    <polygon points="-8,-10 8,0 -8,10" fill="#999" opacity="0.5"/>
  </g>

  <!-- ==================== LEFT PANEL: ISOLATED ==================== -->
  <g aria-label="Left panel: Isolated agents with human bottleneck">

    <text x="200" y="60" class="panel-title" fill="#D55E00">Isolated Agents</text>
    <text x="200" y="76" class="annotation">Human relays context between sessions</text>

    <!-- Agent A: top-left -->
    <g transform="translate(80, 150)">
      <rect x="-32" y="-24" width="64" height="48" rx="10"
            fill="#37474F" stroke="#263238" stroke-width="1.5" filter="url(#shadow)"/>
      <text x="0" y="0" class="agent-label">Agent A</text>
      <!-- Scattered files below -->
      <rect x="-24" y="34" width="18" height="14" rx="2"
            fill="#fff" stroke="#ccc" stroke-width="0.8" transform="rotate(-5, -15, 41)"/>
      <rect x="-4" y="36" width="18" height="14" rx="2"
            fill="#fff" stroke="#ccc" stroke-width="0.8" transform="rotate(3, 5, 43)"/>
      <rect x="12" y="33" width="18" height="14" rx="2"
            fill="#fff" stroke="#ccc" stroke-width="0.8" transform="rotate(-8, 21, 40)"/>
      <text x="0" y="64" class="file-label">.md files</text>
    </g>

    <!-- Agent B: top-right -->
    <g transform="translate(320, 150)">
      <rect x="-32" y="-24" width="64" height="48" rx="10"
            fill="#37474F" stroke="#263238" stroke-width="1.5" filter="url(#shadow)"/>
      <text x="0" y="0" class="agent-label">Agent B</text>
      <!-- Scattered files -->
      <rect x="-24" y="34" width="18" height="14" rx="2"
            fill="#fff" stroke="#ccc" stroke-width="0.8" transform="rotate(4, -15, 41)"/>
      <rect x="-4" y="36" width="18" height="14" rx="2"
            fill="#fff" stroke="#ccc" stroke-width="0.8" transform="rotate(-6, 5, 43)"/>
      <rect x="12" y="33" width="18" height="14" rx="2"
            fill="#fff" stroke="#ccc" stroke-width="0.8" transform="rotate(2, 21, 40)"/>
      <text x="0" y="64" class="file-label">.md files</text>
    </g>

    <!-- Agent C: bottom-center -->
    <g transform="translate(200, 290)">
      <rect x="-32" y="-24" width="64" height="48" rx="10"
            fill="#37474F" stroke="#263238" stroke-width="1.5" filter="url(#shadow)"/>
      <text x="0" y="0" class="agent-label">Agent C</text>
      <!-- Scattered files -->
      <rect x="-24" y="34" width="18" height="14" rx="2"
            fill="#fff" stroke="#ccc" stroke-width="0.8" transform="rotate(-3, -15, 41)"/>
      <rect x="-4" y="36" width="18" height="14" rx="2"
            fill="#fff" stroke="#ccc" stroke-width="0.8" transform="rotate(5, 5, 43)"/>
      <rect x="12" y="33" width="18" height="14" rx="2"
            fill="#fff" stroke="#ccc" stroke-width="0.8" transform="rotate(-4, 21, 40)"/>
      <text x="0" y="64" class="file-label">.md files</text>
    </g>

    <!-- Human in the middle -->
    <g transform="translate(200, 210)">
      <circle cx="0" cy="0" r="16" fill="#F5E6E0" stroke="#D55E00" stroke-width="1.5"/>
      <text x="0" y="1" style="font: bold 10px sans-serif; fill: #D55E00;
            text-anchor: middle; dominant-baseline: central;">you</text>
      <!-- Frustration lines -->
      <line x1="-12" y1="-20" x2="-16" y2="-28" stroke="#D55E00" stroke-width="1.2" stroke-opacity="0.5"/>
      <line x1="0" y1="-22" x2="0" y2="-30" stroke="#D55E00" stroke-width="1.2" stroke-opacity="0.5"/>
      <line x1="12" y1="-20" x2="16" y2="-28" stroke="#D55E00" stroke-width="1.2" stroke-opacity="0.5"/>
    </g>

    <!-- Stress lines from human to each agent (manual relay) -->
    <line x1="185" y1="200" x2="112" y2="174" stroke="#D55E00" stroke-width="1.2"
          stroke-dasharray="3,3" stroke-opacity="0.5"/>
    <line x1="215" y1="200" x2="288" y2="174" stroke="#D55E00" stroke-width="1.2"
          stroke-dasharray="3,3" stroke-opacity="0.5"/>
    <line x1="200" y1="222" x2="200" y2="266" stroke="#D55E00" stroke-width="1.2"
          stroke-dasharray="3,3" stroke-opacity="0.5"/>

    <!-- No connection between agents -->
    <text x="200" y="375" class="caption" fill="#D55E00">"Copy this context to the next session"</text>

  </g>

  <!-- ==================== RIGHT PANEL: VILLAGE ==================== -->
  <g aria-label="Right panel: Agent village with shared primitives">

    <text x="600" y="60" class="panel-title" fill="#009E73">Agent Village</text>
    <text x="600" y="76" class="annotation">Two primitives, no orchestrator</text>

    <!-- Two independent primitives, visually separated -->
    <!-- Beads: left of center -->
    <g transform="translate(530, 215)">
      <rect x="-40" y="-28" width="80" height="56" rx="10"
            fill="#0072B2" filter="url(#shadow)"/>
      <text x="0" y="-6" class="svc-label">Beads</text>
      <text x="0" y="10" class="svc-sub">shared state</text>
    </g>

    <!-- Agent Mail: right of center -->
    <g transform="translate(670, 215)">
      <rect x="-40" y="-28" width="80" height="56" rx="10"
            fill="#E69F00" filter="url(#shadow)"/>
      <text x="0" y="10" class="svc-sub">messaging</text>
      <text x="0" y="-6" class="svc-label">Mail</text>
    </g>

    <!-- Agent A: top-left -->
    <g transform="translate(480, 130)">
      <rect x="-32" y="-24" width="64" height="48" rx="10"
            fill="#37474F" stroke="#263238" stroke-width="1.5" filter="url(#shadow)"/>
      <text x="0" y="0" class="agent-label">Agent A</text>
    </g>

    <!-- Agent B: top-right -->
    <g transform="translate(720, 130)">
      <rect x="-32" y="-24" width="64" height="48" rx="10"
            fill="#37474F" stroke="#263238" stroke-width="1.5" filter="url(#shadow)"/>
      <text x="0" y="0" class="agent-label">Agent B</text>
    </g>

    <!-- Agent C: bottom-center -->
    <g transform="translate(600, 310)">
      <rect x="-32" y="-24" width="64" height="48" rx="10"
            fill="#37474F" stroke="#263238" stroke-width="1.5" filter="url(#shadow)"/>
      <text x="0" y="0" class="agent-label">Agent C</text>
    </g>

    <!-- Connections: agents to Beads (blue, independent channel) -->
    <line x1="495" y1="154" x2="510" y2="190" stroke="#0072B2" stroke-width="1.8"
          stroke-dasharray="5,3" stroke-opacity="0.6"/>
    <line x1="700" y1="154" x2="555" y2="190" stroke="#0072B2" stroke-width="1.8"
          stroke-dasharray="5,3" stroke-opacity="0.6"/>
    <line x1="585" y1="286" x2="540" y2="243" stroke="#0072B2" stroke-width="1.8"
          stroke-dasharray="5,3" stroke-opacity="0.6"/>

    <!-- Connections: agents to Mail (orange, independent channel) -->
    <line x1="510" y1="148" x2="645" y2="190" stroke="#E69F00" stroke-width="1.8"
          stroke-dasharray="5,3" stroke-opacity="0.6"/>
    <line x1="705" y1="154" x2="690" y2="190" stroke="#E69F00" stroke-width="1.8"
          stroke-dasharray="5,3" stroke-opacity="0.6"/>
    <line x1="615" y1="286" x2="660" y2="243" stroke="#E69F00" stroke-width="1.8"
          stroke-dasharray="5,3" stroke-opacity="0.6"/>

    <!-- No scattered files — clean -->
    <text x="600" y="375" class="caption" fill="#009E73">"Give them state and a channel, get out of the way"</text>

  </g>

  <!-- Bottom annotation -->
  <text x="400" y="408" class="annotation" fill="#333">
    Structured state + messaging = the two primitives agent swarms need
  </text>

</svg>
